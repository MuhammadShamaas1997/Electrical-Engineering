function show_multiuser_for(e){$.each(e,function(e,t){$("#multiuser_selector_"+t).fadeIn(),$("#multiuser_checkbox_"+t).prop("checked",!0),$("div#item_price_"+t).text($("#multiuser_selector_"+t).find("option:selected").data("price")),$("#multiuser_selector_"+t).removeAttr("disabled")})}function hide_multiuser_for(e){$.each(e,function(e,t){$("#multiuser_selector_"+t).fadeOut(),$("#multiuser_checkbox_"+t).prop("checked",!1),$("div#item_price_"+t).text($("div#item_price_"+t).data("default")),$("#multiuser_selector_"+t).attr("disabled","disabled")})}function watchForCartQuantityChanges(){$("form.update-item-qty").on("change",function(){})}function equalHeight(e){var t=430;e.each(function(){var e=$(this).height();e>t&&(t=e)}),e.height(t)}function extendHeight(e,t){e.height(t.height())}function getURLParameter(e){return decodeURIComponent(((new RegExp("[?|&]"+e+"="+"([^&;]+?)(&|#|;|$)")).exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}function enableFlashNoticeBar(){var e=$("#flash_notice").html();$.trim(e).length>0&&jQuery.noticeAdd({text:e,stay:!1})}function setupExpanders(){$(".account li.tr.tbody ul.expandable_line, li.tr.tbody ul.expandable_line.toggleable,li.tr.tbody ul.expandable_line.not-toggleable .toggler").bind("click",function(e){e.preventDefault,parentElement=jQuery(this).parents(".tr"),detailElement=parentElement.find("> div"),parentElement.hasClass("open")?detailElement.slideUp(200):(detailElement.slideDown(200),$(".account li.tr.tbody.open").each(function(){$(this).toggleClass("open"),$(this).find("> div").slideUp(200)})),parentElement.toggleClass("open")})}function setupSearchAutocomplete(){var e={},t,n="",r="";$.ui.autocomplete.prototype._renderItem=function(e,t){var r=n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=new RegExp(r,"ig"),s=t.label.replace(i,"<strong>$&</strong>");return $("<li></li>").data("item.autocomplete",t).append('<a class="ui-corner-all" tabindex="-1">'+s+"</a>").appendTo(e)},$("#search_query").autocomplete({source:function(i,s){n=i.term,$("select[name='search[publisher_filter]']").length&&(r=$("select[name='search[publisher_filter]']").val()),$("input[name='search[publisher_filter]']").length&&(r=$("input[name='search[publisher_filter]']").val()),n in e&&s(e[n].suggestions);var o="term="+i.term+"&publisher_filter="+r;t=$.getJSON(location.protocol+"//"+location.hostname+"/suggestions/list",o,function(r,i,o){e[n]=r,o===t&&s(r.suggestions)})},focus:function(e,t){var n=t.item.value.substr(0,1)=="/";if(n)return!1},select:function(e,t){var n=t.item.value.substr(0,1)=="/";if(n)return document.location.href=t.item.value,!1;$("#search_query").val('"'+t.item.value+'"'),$("#new_search").submit()},minLength:2})}function debug(){jQuery(".placeholder").attr("alt","I'm just a placeholder!").attr("title","I'm just a placeholder!").on("click",function(){alert("Functionality not yet implemented. This is a placeholder.")})}function display_debug_info(){$("#display_debug_info").bind("click",function(e){e.preventDefault(),$("#supportModal").reveal({animation:"fade"})}),$("#hide_debug_info a").bind("click",function(e){e.preventDefault(),$(".support_info").removeClass("support_show").addClass("support_hide")})}function display_gdpr_cookie(){$.get("https://geoip.maxmind.com/geoip/v2.1/country/me",function(e){var t=e.country.iso_code;t=="GB"||t=="AT"||t=="BE"||t=="BG"||t=="HR"||t=="CY"||t=="CZ"||t=="EE"||t=="FI"||t=="FR"||t=="DE"||t=="GR"||t=="HU"||t=="IE"||t=="IT"||t=="LV"||t=="LT"||t=="LU"||t=="MT"||t=="NL"||t=="PL"||t=="PT"||t=="RO"||t=="SK"||t=="SI"||t=="ES"||t=="SE"||t=="LI"||t=="CH"||t=="NO"||t=="IS"||t=="DK"?($("input#user_newsletter_optin").prop("checked",!1),$(".cookie-policy").fadeIn(500),$(".js-cookie-continue").bind("click",function(e){localStorage.getItem("Techstreet GDPR Policy")!="shown"&&(localStorage.setItem("Techstreet GDPR Policy","shown"),e.preventDefault(),$(".cookie-policy").hide("fast"))}),localStorage.getItem("Techstreet GDPR Policy")=="shown"&&$(".cookie-policy").hide()):(t=="RU"||t=="CN"||t=="HK"||t=="JP"||t=="AU"||t=="NZ"||t=="CA"||t=="CO"||t=="TR")&&$("input#user_newsletter_optin").prop("checked",!1)})}function display_enterprise_popup(){localStorage.getItem("Enterprise Popup")=="shown"?($("#enterprise_popup").css("display","none"),$("#enterprise_popup").hide()):($("#enterprise_popup").delay(5e3).show("slow"),$(".close_popup").bind("click",function(e){localStorage.getItem("Enterprise Popup")!="shown"&&(localStorage.setItem("Enterprise Popup","shown"),e.preventDefault(),$("#enterprise_popup").hide("fast"))}))}function display_chrome_popup(){$("#chrome_popup").show("fast"),$("#mask").fadeIn(500),$("#mask").fadeTo("slow",.85),$(".accept_button").bind("click",function(e){e.preventDefault(),$.ajax({type:"POST",url:"/account/downloads/acknowledge_chrome_inline_reader"}),$("#chrome_popup").hide("fast"),$("#mask").hide("fast")})}function announceExistence(){jQuery("html.no-js").removeClass("no-js").addClass("js")}function replaceUrlParam(e,t,n){var r=new RegExp("\\b("+t+"=).*?(&|$)");return e.search(r)>=0?e.replace(r,"$1"+n+"$2"):e+(e.indexOf("?")>0?"&":"?")+t+"="+n}function scrollableElement(e){for(var t=0,n=arguments.length;t<n;t++){var r=arguments[t],i=$(r);if(i.scrollTop()>0)return r;i.scrollTop(1);var s=i.scrollTop()>0;i.scrollTop(0);if(s)return r}return[]}function disableFacetsWhileLoading(){$(".facet-check").each(function(){$(this).attr("disabled","disabled")}),$(".navigators a").click(function(e){e.preventDefault()})}(function(e,t){var n=function(){var t=e._data(document,"events");return t&&t.click&&e.grep(t.click,function(e){return e.namespace==="rails"}).length};n()&&e.error("jquery-ujs has already been loaded!");var r;e.rails=r={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(t){var n=e('meta[name="csrf-token"]').attr("content");n&&t.setRequestHeader("X-CSRF-Token",n)},fire:function(t,n,r){var i=e.Event(n);return t.trigger(i,r),i.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e.attr("href")},handleRemote:function(n){var i,s,o,u,a,f,l,c;if(r.fire(n,"ajax:before")){u=n.data("cross-domain"),a=u===t?null:u,f=n.data("with-credentials")||null,l=n.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType;if(n.is("form")){i=n.attr("method"),s=n.attr("action"),o=n.serializeArray();var h=n.data("ujs:submit-button");h&&(o.push(h),n.data("ujs:submit-button",null))}else n.is(r.inputChangeSelector)?(i=n.data("method"),s=n.data("url"),o=n.serialize(),n.data("params")&&(o=o+"&"+n.data("params"))):(i=n.data("method"),s=r.href(n),o=n.data("params")||null);c={type:i||"GET",data:o,dataType:l,beforeSend:function(e,i){return i.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+i.accepts.script),r.fire(n,"ajax:beforeSend",[e,i])},success:function(e,t,r){n.trigger("ajax:success",[e,t,r])},complete:function(e,t){n.trigger("ajax:complete",[e,t])},error:function(e,t,r){n.trigger("ajax:error",[e,t,r])},crossDomain:a},f&&(c.xhrFields={withCredentials:f}),s&&(c.url=s);var p=r.ajax(c);return n.trigger("ajax:send",p),p}return!1},handleMethod:function(n){var i=r.href(n),s=n.data("method"),o=n.attr("target"),u=e("meta[name=csrf-token]").attr("content"),a=e("meta[name=csrf-param]").attr("content"),f=e('<form method="post" action="'+i+'"></form>'),l='<input name="_method" value="'+s+'" type="hidden" />';a!==t&&u!==t&&(l+='<input name="'+a+'" value="'+u+'" type="hidden" />'),o&&f.attr("target",o),f.hide().append(l).appendTo("body"),f.submit()},disableFormElements:function(t){t.find(r.disableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with",t[n]()),t[n](t.data("disable-with")),t.prop("disabled",!0)})},enableFormElements:function(t){t.find(r.enableSelector).each(function(){var t=e(this),n=t.is("button")?"html":"val";t.data("ujs:enable-with")&&t[n](t.data("ujs:enable-with")),t.prop("disabled",!1)})},allowAction:function(e){var t=e.data("confirm"),n=!1,i;return t?(r.fire(e,"confirm")&&(n=r.confirm(t),i=r.fire(e,"confirm:complete",[n])),n&&i):!0},blankInputs:function(t,n,r){var i=e(),s,o,u=n||"input,textarea",a=t.find(u);return a.each(function(){s=e(this),o=s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):s.val();if(!o==!r){if(s.is("input[type=radio]")&&a.filter('input[type=radio]:checked[name="'+s.attr("name")+'"]').length)return!0;i=i.add(s)}}),i.length?i:!1},nonBlankInputs:function(e,t){return r.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},callFormSubmitBindings:function(n,r){var i=n.data("events"),s=!0;return i!==t&&i.submit!==t&&e.each(i.submit,function(e,t){if(typeof t.handler=="function")return s=t.handler(r)}),s},disableElement:function(e){e.data("ujs:enable-with",e.html()),e.html(e.data("disable-with")),e.bind("click.railsDisable",function(e){return r.stopEverything(e)})},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.data("ujs:enable-with",!1)),e.unbind("click.railsDisable")}},r.fire(e(document),"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,n){e.crossDomain||r.CSRFProtection(n)}),e(document).delegate(r.linkDisableSelector,"ajax:complete",function(){r.enableElement(e(this))}),e(document).delegate(r.linkClickSelector,"click.rails",function(n){var i=e(this),s=i.data("method"),o=i.data("params");if(!r.allowAction(i))return r.stopEverything(n);i.is(r.linkDisableSelector)&&r.disableElement(i);if(i.data("remote")!==t){if((n.metaKey||n.ctrlKey)&&(!s||s==="GET")&&!o)return!0;var u=r.handleRemote(i);return u===!1?r.enableElement(i):u.error(function(){r.enableElement(i)}),!1}if(i.data("method"))return r.handleMethod(i),!1}),e(document).delegate(r.inputChangeSelector,"change.rails",function(t){var n=e(this);return r.allowAction(n)?(r.handleRemote(n),!1):r.stopEverything(t)}),e(document).delegate(r.formSubmitSelector,"submit.rails",function(n){var i=e(this),s=i.data("remote")!==t,o=r.blankInputs(i,r.requiredInputSelector),u=r.nonBlankInputs(i,r.fileInputSelector);if(!r.allowAction(i))return r.stopEverything(n);if(o&&i.attr("novalidate")==t&&r.fire(i,"ajax:aborted:required",[o]))return r.stopEverything(n);if(s){if(u){setTimeout(function(){r.disableFormElements(i)},13);var a=r.fire(i,"ajax:aborted:file",[u]);return a||setTimeout(function(){r.enableFormElements(i)},13),a}return!e.support.submitBubbles&&e().jquery<"1.7"&&r.callFormSubmitBindings(i,n)===!1?r.stopEverything(n):(r.handleRemote(i),!1)}setTimeout(function(){r.disableFormElements(i)},13)}),e(document).delegate(r.formInputClickSelector,"click.rails",function(t){var n=e(this);if(!r.allowAction(n))return r.stopEverything(t);var i=n.attr("name"),s=i?{name:i,value:n.val()}:null;n.closest("form").data("ujs:submit-button",s)}),e(document).delegate(r.formSubmitSelector,"ajax:beforeSend.rails",function(t){this==t.target&&r.disableFormElements(e(this))}),e(document).delegate(r.formSubmitSelector,"ajax:complete.rails",function(t){this==t.target&&r.enableFormElements(e(this))}),e(function(){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e('form input[name="'+n+'"]').val(t)}))})(jQuery),$(document).ready(function(){$("li.add-to-cart a.button").bind("click",function(e){e.preventDefault();var t=$("meta[name='csrf-token']").attr("content"),n=$("#adding_to_cart_modal"),r=$("#added_to_cart_modal");$.ajaxSetup({headers:{"X-CSRF-Token":t}}),n.modal({overlayId:"download-overlay",overlayClose:!1,close:!1,escClose:!1,containerId:"adding_to_cart-container"}),$.ajax({type:"POST",cache:!1,url:"/shopping/cart_items",data:{item_id:$(this).data("item_id")},success:function(e){$.modal.close(),r.modal({overlayId:"download-overlay",overlayClose:!0,close:!0,escClose:!0,fixed:!1,containerId:"added_to_cart-container"}),$.modal.setPosition()},error:function(e){alert("The request could not be completed: "+e.responseText)}})})}),$(document).ready(function(){var e="";$("form select[id*='country_code']").change(function(){$(this).val()&&n($(this).val(),!1)}),$("form select[id*='country_code']").change(function(){t($(this).val())});var t=function(e){var t=document.getElementById("address_code")||document.getElementById("tax_exemption_code"),n=document.getElementById("address_code_international")||document.getElementById("tax_exemption_code_international");e=="US"||e=="CA"?(n.style.display="none",n.disabled=!0,n.value="",t.style.display="inline-block",t.disabled=!1):(t.style.display="none",t.disabled=!0,t.value="",n.style.display="block",n.disabled=!1)};(document.getElementById("address_code")!=null||document.getElementById("tax_exemption_code")!=null)&&t($("select[id*='country_code']").val()),$("select.province_dropdown").change(function(){$(this).val()&&$("input[id*='province']").val($(this).val())});var n=function(e,t){e==="US"?($("input[id*='province']").hide(),$("input[id*='province']").val($('select[name="us_states"]').val()),$('select[name="ca_provinces"]').hide(),$('select[name="ca_provinces"]').val(""),$('select[name="us_states"]').show(),$("[id*='province']").parent().addClass("req"),$("[id*='code']").parent().addClass("req")):e==="CA"?($("input[id*='province']").hide(),$("input[id*='province']").val($('select[name="ca_provinces"]').val()),$('select[name="us_states"]').hide(),$('select[name="us_states"]').val(""),$('select[name="ca_provinces"]').show(),$("[id*='province']").parent().addClass("req"),$("[id*='code']").parent().addClass("req")):($('select[name="ca_provinces"]').hide(),$('select[name="ca_provinces"]').val(""),$('select[name="us_states"]').hide(),$('select[name="us_states"]').val(""),t||$("input[id*='province']").val(""),$("input[id*='province']").show(),$("#address_province").parent().removeClass("req"))};n($("select[id*='country_code']").val(),!0),$("select.province_dropdown").each(function(){$(this).children("option:first").attr("disabled","true")}),$("input[id*='province']").parent().first().hasClass("field_with_errors")&&$(".province_dropdown").css("border","1px solid #dc0a0a")}),$(document).ready(function(){$("body.shopping-cart_items #cart_item_quantity").change(function(){var e=$(this).val(),t=$(this).data("cart_item_id");$.ajax({type:"PUT",cache:!1,url:"/shopping/cart_items/"+t+"/update_quantity/"+e}).done(function(e){$("span#price span").html(e).effect("highlight",{},1500)})}),$("a.update-qty").click(function(e){e.preventDefault();var t=parseInt($(this).siblings('input[name="quantity"]').val());if(t!=$(this).siblings('input[name="quantity"]').val())return alert("Invalid quantity entered."),!1;t&&t>0&&t<101?$(this).parent().submit():alert("Invalid quantity entered.")}),$("form.update-item-qty input").keypress(function(e){e||(e=window.event);var t=e.keyCode||e.which;if(t=="13"){e.preventDefault();var n=parseInt($(this).val());if(n!=$(this).val())return alert("Invalid quantity entered."),!1;n&&n>0&&n<101?$(this).parent().submit():alert("Invalid quantity entered.")}}),$("select.multiuser-item-qty").change(function(e){$(this).parent().submit()}),$(".shopping_cart").delegate("form.update-item-qty","ajax:complete",function(e,t,n,r){$("div#cart_total").load("/shopping/cart/total"),$("div.shopping_cart h1").load("/shopping/cart/cart_header"),$("div#cart_total").effect("highlight",{color:"#ffe9b5"},2e3)}),$("div#cart_total").delegate("select.shipping_for_country","change",function(e){$(this).val()&&$("div#cart_total").load("/shopping/cart/total?country_code="+$(this).val())}),$("#membership_check").delegate('input[type="checkbox"]',"click",function(e){$("input#cart_discount_code").val().length==0&&($(".error").show(),$('input[name="cart[gateway_member_flag]"]').attr("checked",!1)),$(this).is(":checked")&&$(this).parent("form").submit()}),$("#membership_check").delegate("form","ajax:success",function(e,t,n,r){window.location.reload()}),$("#membership_check").delegate("form","ajax:error",function(e,t,n,r){$(this).find(".error").show(),$(this).children('input[name="cart[gateway_member_flag]"]').attr("checked",!1)})}),$(document).ready(function(){if($(".checkout_main").length>0){var e=$("#checkout_progress_header").offset().top;$("body, html").animate({scrollTop:e})}}),$(document).ready(function(){$("#gateway_selector").on("change",function(){gateway=this.value,window.location.href="/"+gateway}),$("#cms_content_version_text").redactor({focus:!0,buttons:["html","|","formatting","|","bold","italic","deleted","underline","|","unorderedlist","orderedlist","outdent","indent","|","image","link","|","fontcolor","backcolor","|","alignment","justify","|","horizontalrule"],imageUpload:"/cms/contents/add_image",uploadFields:{authenticity_token:$('meta[name="csrf-token"]').attr("content")}}),$("form.new_cms_content,form.edit_cms_content,form.help_form").submit(function(e){return $("textarea#cms_content_editor").val($("#cms_content_editor").getCode()),!0}),$("a.cms-content-insert-link").click(function(e){e.preventDefault(),$("#cms_page_version_text").insertText("{% cms_content "+$(this).attr("data-cms-content-id")+" ("+$(this).attr("data-cms-content-display-text")+") %}")}),$("a.toggle").click(function(e){e.preventDefault(),$(this).toggleClass("collapse expand"),$(this).parents("tr").first().siblings('tr[for="cms_obj_'+$(this).attr("data_cms_obj_id")+'"]').toggleClass("visuallyhidden")}),$("a.cms_content_preview").click(function(e){e.preventDefault();var t=$(this).attr("data-content-version-id");$.ajax({url:"/cms/content_versions/"+t,cache:!1,dataType:"json"}).always(function(e,t){preview_content="<h2>Selected Publish Date: "+e.publish_date+"</h2><h2>Selected Archive Date: "+e.archive_date+"</h2>"+e.text,$("#modalContent").html(preview_content),$("#myModal").reveal({animation:"fade"})})}),$("a.cms_help_preview").click(function(e){e.preventDefault();var t=$(this).attr("data-help-version-id");$.ajax({url:"/cms/help_versions/"+t,cache:!1,dataType:"json"}).always(function(e,t){preview_content="<h2>Selected Publish Date: "+e.publish_date+"</h2><h2>Selected Archive Date: "+e.archive_date+"</h2>"+e.text,$("#modalContent").html(preview_content),$("#myModal").reveal({animation:"fade"})})}),$(".with-datepicker").datepicker({dateFormat:"yy-mm-dd"}),$("#active_item").length>0&&(window.location.href="#active_item")}),function(e,t){e.fn.getCursorPosition=function(){var t=e(this).get(0),n=0;if("selectionStart"in t)n=t.selectionStart;else if("selection"in document){t.focus();var r=document.selection.createRange(),i=document.selection.createRange().text.length;r.moveStart("character",-t.value.length),n=r.text.length-i}return n},e.fn.insertText=function(t){var n=e(this).getCursorPosition(),r=e(this).val(),i=r.substring(0,n),s=t,o=r.substring(n,r.length);e(this).val(i+s+o)}}(jQuery),$(document).ready(function(){announceExistence(),setupExpanders(),setupSearchAutocomplete(),enableFlashNoticeBar(),display_debug_info(),display_gdpr_cookie(),debug(),$("#tracked_products_publisher").change(function(){window.location.href="/account/tracked_products?publisher_code="+$(this).val()}),$("a.major").append("<span class='ss-icon'>&#x25B9;</span>"),$("a.pre-major").prepend("<span class='ss-icon'>&#x25B9;</span>")}),$(document).ready(function(){$("input.curated_product_priority").bind("click",function(e){var t=0;$(this).is(":checked")&&(t=1);var n=$(this).attr("id"),r=$(this);$.ajax({type:"PUT",url:"/curated_products/"+n,data:{priority:t}})})}),jQuery(function(){jQuery.support.placeholder=!1,test=document.createElement("input"),"placeholder"in test&&(jQuery.support.placeholder=!0)}),$(document).ready(function(){$("select#entitlement_sort,select#order_sort").change(function(){window.top.location.href=$(this).val()}),$(document).delegate("input.transfer","click",function(e){e.preventDefault();var t=$(this);$("#transfer_modal").modal({overlayId:"download-overlay",containerId:"download-container",escClose:!1,close:!1,onShow:function(e){$("a#transfer_submit").bind("click",function(e){e.preventDefault(),t.submit(),$.modal.close()}),$("a#transfer_cancel").bind("click",function(e){e.preventDefault(),$.modal.close()})}})}),$(document).delegate("input.unlock","click",function(e){e.preventDefault();var t=$(this);$("#unlock_modal").modal({overlayId:"download-overlay",containerId:"download-container",escClose:!1,close:!1,onShow:function(e){$("a#unlock_submit").bind("click",function(e){e.preventDefault(),t.submit(),$.modal.close()}),$("a#unlock_cancel").bind("click",function(e){e.preventDefault(),$.modal.close()})}})}),$(document).delegate("a.first_time_download","click",function(e){e.preventDefault();var t=$(this).attr("href");$("#modal_for_"+$(this).data("entitled_content_id")).modal({overlayId:"download-overlay",containerId:"download-container",escClose:!0,close:!0,onClose:function(e){$.modal.close()}})}),$("a#show-eula").bind("click",function(e){e.preventDefault(),$("#eula-modal-content").modal({overlayId:"download-overlay",overlayClose:!0,close:!0,escClose:!0,containerId:"download-container"})}),$(function(){if(!$.support.placeholder){var e=document.activeElement;$(document).delegate("input[type=email]","focus",function(){$(this).attr("placeholder")!=""&&$(this).val()==$(this).attr("placeholder")&&$(this).val("").removeClass("hasPlaceholder")}),$(document).delegate("input[type=email]","blur",function(){$(this).attr("placeholder")!=""&&($(this).val()==""||$(this).val()==$(this).attr("placeholder"))&&$(this).val($(this).attr("placeholder")).addClass("hasPlaceholder")}),$("input[type=email]").blur(),$(e).focus(),$("form").submit(function(){$(this).find(".hasPlaceholder").each(function(){$(this).val("")})})}})}),$(document).ready(function(){$(".help_center_category_handle").click(function(e){$(".left_rail").height("auto"),e.preventDefault(),$(this).siblings("ol").slideToggle(300,function(){equalHeight($(".left_rail, .center_rail, .right_rail"))}),$(this).toggleClass("open close")});var e="Search Help Topics";$("#help_search_query").click(function(){$(this).val()==e&&($(this).css("color","black"),$(this).val(""))}).blur(function(){$(this).val()==""&&($(this).css("color","#bababa"),$(this).val(e))});if($(".help_center_category_handle").length>0&&$(".help_topics > .current-help-topic").length===0){var t=$("#topbar").offset().top;$("body, html").animate({scrollTop:t})}}),jQuery.extend({highlight:function(e,t,n,r){if(e.nodeType===3){var i=e.data.match(t);if(i){var s=document.createElement(n||"span");s.className=r||"highlight";var o=e.splitText(i.index);o.splitText(i[0].length);var u=o.cloneNode(!0);return s.appendChild(u),o.parentNode.replaceChild(s,o),1}}else if(e.nodeType===1&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&(e.tagName!==n.toUpperCase()||e.className!==r))for(var a=0;a<e.childNodes.length;a++)a+=jQuery.highlight(e.childNodes[a],t,n,r);return 0}}),jQuery.fn.unhighlight=function(e){var t={className:"highlight",element:"span"};return jQuery.extend(t,e),this.find(t.element+"."+t.className).each(function(){var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()},jQuery.fn.highlight=function(e,t){var n={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1};jQuery.extend(n,t),e.constructor===String&&(e=[e]),e=jQuery.grep(e,function(e,t){return e!=""}),e=jQuery.map(e,function(e,t){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")});if(e.length==0)return this;var r=n.caseSensitive?"":"i",i="("+e.join("|")+")";n.wordsOnly&&(i="\\b"+i+"\\b");var s=new RegExp(i,r);return this.each(function(){jQuery.highlight(this,s,n.element,n.className)})},$(document).ready(function(){$("input#card_card_number,input#card_cvc,input#credit_card_card_number,input#credit_card_cvc").keypress(function(e){var t=/[0-9]/,n=String.fromCharCode(e.which);!t.test(n)&&e.keyCode!=8&&e.keyCode!=46&&e.keyCode!=37&&e.keyCode!=39&&e.preventDefault()}),$("input#card_card_number,input#credit_card_card_number").validateCreditCard(function(e){if(e.card_type){$(".cc_logos span").removeClass("cc_type_used"),$(".cc_logos #cc_"+e.card_type.name).addClass("cc_type_used");switch(e.card_type.name){case"visa":$("#credit_card_type_code").val("V");break;case"mastercard":$("#credit_card_type_code").val("MC");break;case"amex":$("#credit_card_type_code").val("AE");break;case"diners_club_international":$("#credit_card_type_code").val("DC");break;default:$("#credit_card_type_code").val("")}}else $(".cc_logos span").removeClass("cc_type_used"),$("#credit_card_type_code").val("")})}),$(document).ready(function(){$("a.switcher").click(function(){$(this).parent("li").hasClass("selected")?_gaq.push(["_trackEvent","Available Editions - Already Selected",$(this).data("format"),$(this).data("product")]):_gaq.push(["_trackEvent","Available Editions",$(this).data("format"),$(this).data("product")])}),$("#products-sort select").change(function(){window.top.location.href=$(this).val()}),$("#same_as_reveal").bind("click",function(e){e.preventDefault(),$("#same_as_products").slideToggle("fast",function(){$("#same_as_products").is(":visible")})}),$("select#language_selector").bind("change",function(){document.location.href=replaceUrlParam(document.location.href,"language",$(this).val())}),$(".switcher-content.show").each(function(){$(this).show()}),$("a.switcher").bind("click",function(e){e.preventDefault(),$("li.product_row.selected").removeClass("selected"),$(this).parents("li.product_row").addClass("selected");var t=$(this).attr("id")+"-content";$("div.switcher-content.show").fadeOut(300,function(){$("#"+t).fadeIn(300)}),$("div.switcher-content.show").removeClass("show"),$("#"+t).addClass("show");var n=$(this).attr("id")+"-description";$("span.item_description.show").fadeOut(300,function(){$("#"+n).fadeIn(300)}),$("span.item_description.show").removeClass("show"),$("#"+n).addClass("show");var r=$(this).attr("id").replace("product_item_","techpoints_for_");$("#techpoints_link").data("powertiptarget",r)}),$.fn.powerTip.smartPlacementLists.w=["w","nw","sw","n","s","e","ne","se","w"],$(".powertip").each(function(){$(this).powerTip({placement:"w",smartPlacement:!0,mouseOnToPopup:!0})}),$("input.redline_selector").bind("change",function(){$("#add_to_cart_"+$(this).data("base")).toggle(),$("#add_to_cart_"+$(this).data("redline")).toggle()}),$("input.multiuser").bind("change",function(){var e=[],t=$(this);e.push($(this).data("item_id")),$(this).data("redline_item_id")&&e.push($(this).data("redline_item_id")),$.each(e,function(e,n){var r=$("select#multiuser_selector_"+n);t.is(":checked")?($("input.multiuser#multiuser_"+n).attr("checked",!0),$("dd#item_"+n+"_price").text(r.find("option:selected").text())):($("input.multiuser#multiuser_"+n).attr("checked",!1),$("dd#item_"+n+"_price").text($("span#item_"+n+"_base_price").text())),r.attr("disabled")?r.removeAttr("disabled"):r.attr("disabled","disabled"),r.fadeToggle()})}),$("select.multi_user_selector").bind("change",function(){var e=$(this).find("option:selected").val();if($(this).attr("id")=="multiuser_selector_"+$(this).data("item_id")){var t=$("select#multiuser_selector_"+$(this).data("redline_item_id"));$("dd#item_"+$(this).data("item_id")+"_price").text($(this).find("option:selected").text()),t&&(t.val(e),$("dd#item_"+$(this).data("redline_item_id")+"_price").text(t.find("option:selected").text()))}else{var t=$("select#multiuser_selector_"+$(this).data("item_id"));t.val(e),$("dd#item_"+$(this).data("item_id")+"_price").text(t.find("option:selected").text()),$("dd#item_"+$(this).data("redline_item_id")+"_price").text($(this).find("option:selected").text())}}),$("a.remove_from_tracking_list").bind("click",function(e){e.preventDefault(),product_id=$(this).data("product_id"),$.ajax({type:"DELETE",cache:!1,url:"/account/tracked_products/"+$(this).data("id")+"?product_id="+product_id,success:function(e){$("a.add_to_tracking_list_"+product_id).each(function(){$(this).toggle()}),$("a.remove_from_tracking_list_"+product_id).each(function(){$(this).toggle()})},error:function(e){alert("The request could not be completed")}})}),$("a.add_to_tracking_list").bind("click",function(e){e.preventDefault(),product_id=$(this).data("product_id");if($(this).hasClass("disabled"))return!1;$(this).addClass("disabled"),$.ajax({type:"POST",cache:!1,url:"/account/tracked_products?product_id="+product_id,success:function(e){var t=$.parseJSON(e);$("a.add_to_tracking_list_"+product_id).each(function(){$(this).toggle()}),$("a.remove_from_tracking_list_"+product_id).each(function(){$(this).toggle(),$(this).data("id",t)}),$(".add_to_tracking_list").removeClass("disabled")},error:function(e){alert("The request could not be completed")}})})}),$(document).ready(function(){$("#publisher_selector").bind("change",function(){var e=$(this).val();return e&&(window.location=e),!1}),$("p.jump_link a").bind("click",function(e){e.preventDefault();var t=$($(this).attr("href")),n=scrollableElement("html","body");$(n).animate({scrollTop:t.offset().top-35},400)})}),$(document).ready(function(){$(".navigators a, .submittable-facet").click(function(){disableFacetsWhileLoading()}),$(".submittable-facet").click(function(){$(this).parents("form").submit()}),$("#active-list-selector").change(function(){list_id=$("#active-list-selector").val(),products_on_page=[],$("ol.products_list li[data-product]").each(function(e){products_on_page.push($(this).data("product"))}),$.ajax({type:"POST",cache:!1,url:"/lists/"+list_id+"/make_active?products_on_page="+products_on_page.join(","),success:function(e){products_on_list=$.parseJSON(e),$.each(products_on_page,function(e,t){$.inArray(t,products_on_list)>=0?($("#product_"+t+"_on_list").show(),$("#product_"+t+"_off_list").hide()):($("#product_"+t+"_off_list").show(),$("#product_"+t+"_on_list").hide())})},error:function(e){alert("The request could not be completed")}})}),$("#search-sort select").change(function(){window.top.location.href=$(this).val()}),$(".search_notification_select").change(function(){var e=$(this).attr("data-search-id"),t=$(this).val()?$(this).val():"";e&&$.ajax({type:"POST",cache:!1,url:"/searches/"+e+"/update?search[notify_frequency]="+t,complete:function(e){}})}),$("a.facet_display_link").bind("click",function(e){e.preventDefault()})}),$(document).ready(function(){$("#subgroup-sort select").change(function(){window.top.location.href=$(this).val()})}),$(document).ready(function(){$("select#tracker_sort").change(function(){window.top.location.href=$(this).val()}),$("a.remove-tracked-product").bind("click",function(e){e.preventDefault();var t=$(this).data("id"),n=$(this);n.hide(),$.ajax({type:"DELETE",cache:!1,url:"/account/tracked_products/"+$(this).data("id"),success:function(e){n.parents("tr").first().fadeOut(),tmp=$("span.total_results").text().split(" "),tmp[0]=tmp[0]-1,$("span.total_results").text(tmp[0]+" "+tmp[1])},error:function(e){alert("The request could not be completed"),n.parents("tr").first().effect("highlight",1500),n.show()}})})}),$(document).ready(function(){$("input#techpoints_signup_checkbox").click(function(){alert($(this).attr("checked")),$(this).is(":checked")&&$(this).closest("form").submit()}),$(document).delegate("form.techpoints_signup","ajax:complete",function(e,t){$(this).fadeOut(function(){$(this).parent().html("Thank you for signing up for Techpoint Rewards")})})}),$("input#user_individual_purchaser").change(function(e){$("input#user_individual_purchaser").prop("checked")?$("input#user_company").prop("disabled",!0):$("input#user_company").prop("disabled",!1)}),$(document).ready(function(){$("#email_invoice_receipt").on("click",function(e){e.preventDefault(),confirm("Email copy of receipt?")&&$.ajax({method:"GET",url:$("#email_invoice_receipt").attr("href")})})});