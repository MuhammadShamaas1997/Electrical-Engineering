<!DOCTYPE html>

<head>
    <title>Image Size Optimization</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="css/bootsrap.min.css">
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="css/style.css"></script>
    <script src="js/custom.js"></script>
    <link href="css/font-awesome.min.css" rel="stylesheet">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	
	<meta name="keywords" content="Image Resize, Image Optimization, Online Image Resize, Online Compress Image, Free image resize, online free image,Image compress" />
	 <meta name="description" content="Image size compress online,Resize image online, Compress image online" />
	 <meta name="author" content="Image Optimization" />
	 <meta name="theme-color" content="#5bc0de" />


    <link rel="apple-touch-icon" sizes="57x57" href="images/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="images/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="images/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="images/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="images/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="images/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="images/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="images/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="images/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png">
    <link rel="manifest" href="images/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">

	 <!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-127031232-1"></script><script>  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-127031232-1');</script>
	 
</head>

<header style="margin-bottom: 50px;">
    <div class="top_bar">
        <div class="container">
            <div class="col-md-6">
                <ul class="social">
                    <li><a target="_blank" href="#"><i class="fa fa-facebook text-white"></i></a></li>
                    <li><a target="_blank" href="#"><i class="fa fa-twitter text-white"></i></a></li>
                    <li><a target="_blank" href="#"><i class="fa fa-instagram text-white"></i></a></li>
                </ul></div>

            <div class="col-md-6">
                <ul class="rightc">
                    <li><i class="fa fa-envelope-o"></i><a href="mailto:admin@soft-logics.com?Subject=User %20 Query" target="_top"> admin@soft-logics.com </a></li>
                    <!--<li><i class="fa fa-user"></i> <a href="webenlance.com" >Become a Partner</a></li>-->
                </ul>
            </div>
        </div>
    </div>
    <!--top_bar-->



    <nav class="navbar navbar-default" role="navigation">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="https://soft-logics.com/resize/"><img  src="images/favicon-96x96.png" style="max-width: 50px" class="img-responsive"></a>
            </div>

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">


                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://soft-logics.com">Home</a></li>
                   <!-- <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span>for</span>  Patients</a>
                        <ul class="dropdown-menu">
                            <li><a href="#">Action</a></li>
                            <li><a href="#">Another action</a></li>
                            <li><a href="#">Something else here</a></li>
                            <li class="divider"></li>
                            <li><a href="#">Separated link</a></li>
                        </ul>
                    </li>
                    <li><a href="#"><span>for</span>   Providers</a></li>
                    <li><a href="#"><span>for</span>   Partners</a></li>
                    <li><a href="#">Login</a></li>-->
                </ul>

            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>

</header>
<body>

<style>
    .top_bar {
        min-height: 40px;
        background: -moz-linear-gradient(left, #30bed6 0%, #38cac9 100%);
        background: -webkit-linear-gradient(left, #30bed6 0%, #38cac9 100%);
        background: linear-gradient(to right, #30bed6 0%, #38cac9 100%);
        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#30bed6', endColorstr='#38cac9', GradientType=1);
    }

    .social {
        list-style-type: none;
        margin-bottom: 0px;
        float: left;
        padding: 0px;
        margin-left: 0px;
    }

    .social li {
        float: left;
    }

    .social li a {
        padding: 0 10px;
        font-size: 13px;
        line-height: 40px;
        color: #FFF;
    }

    .rightc {
        list-style-type: none;
        margin-bottom: 0px;
        float: right;
    }

    .rightc li {
        margin: 0px 10px;
        font-size: 13px;
        float: left;
        line-height: 40px;
        color: #FFF;
    }

    .rightc li a {
        color: #FFF;
    }

    .navbar-brand img {
        margin-top: 0px;
        margin-left: 0px;
    }

    .navbar-brand {
        padding: 0px;
    }

    .header_image {
        margin-top: -70px;
        float: left;
    }

    .nav.navbar-nav.navbar-right span {
        font-family: 'Open Sans', sans-serif;
        font-style: italic;
        font-weight: 300;
        color: #1b6977;
    }

    .navbar-right li a {
        font-family: 'Open Sans', sans-serif;
        font-size: 16px;
        color: #1b6977 !important;
    }
</style>



<div class="container" style="    border: 1px solid #ccc; padding: 20px;">

    <div class="col-md-8">




        <input type="file" id='upload' name="" multiple style="margin-bottom:10px;">
        <img src="" id='preview' >

    </div>


    <div class="col-md-4">

        <p type="button" class="" style="margin-bottom: 10px">Image Size After Optimization: <span class="badge siz_cls" ></span></p>

        <form id="myAwesomeForm" method="post" action="endpoint.php">



            <button type="submit" class="btn btn-info" id="submitButton" name="submitButton" style="display: block;    margin-bottom: 15px; min-width: 190px;">Compress Image</button>
            <a id="download" class="btn btn-success" href="" target="_blank" download="" style="min-width:190px;">Download Image</a>
        </form>

    </div>
</div>


<div class="container text-center" style="margin-top: 25px;">
    <div class="row features">
        <div class="col-xs-12 col-sm-6 col-md-4">
            <div class="feature">
                <img src="images/bulb.svg?h=98b11fa6" alt="">
                <h3>How to compress a Image</h3>
                <p>Just upload your image file in the box above, Click on compress image and  then click on download image to downlpad your file. It's that simple.</p>
            </div>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4">
            <div class="feature">
                <img src="images/trophy.svg?h=61fbbc2a" alt="">
                <h3>Perfect quality</h3>
                <p>Reduce your image files to less then 25KB which is perfect for uploading files to the web and through email.</p>
            </div>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4">
            <div class="feature">
                <img src="images/thumb.svg?h=987c0087" alt="">
                <h3>Easy to use</h3>
                <p>Upload your file, wait a few seconds while it shrinks, and download it with a single click. The process is quick and secure.</p>
            </div>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4">
            <div class="feature">
                <img src="images/lock.svg?h=65bb1bf1" alt="">
                <h3>Security guaranteed</h3>
                <p>Your files will be permanently deleted from our server after one hour. No one has access to your files and privacy is 100% guaranteed.</p>
            </div>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4">
            <div class="feature">
                <img src="images/knife.svg?h=07aba636" alt="">
                <h3>All platforms supported</h3>
                <p>Soft-Logics is browser-based and works for all platforms. It doesnâ€™t matter if you use Mac, Windows or Linux.</p>
            </div>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-4">
            <div class="feature">
                <img src="images/cloud.svg?h=78167215" alt="">
                <h3>In the cloud</h3>
                <p>All the file compressing takes place in the cloud and will not consume any capacity from your own computer.</p>
            </div>
        </div>
    </div>
</div>




<script type="text/javascript" src='./index.js'></script>
<script type="text/javascript">


    "use strict";

    const compressor = new Compress()
    const upload = document.getElementById('upload')
    const preview = document.getElementById('preview')

    upload.addEventListener('change', function (evt){
        const files = [...evt.target.files]
        compressor.compress(files, {
            size: .1, // the max size in MB, defaults to 2MB
            quality: .22, // the quality of the image, max is 1,
            maxWidth: 500, // the max width of the output image, defaults to 1920px
            maxHeight: 500, // the max height of the output image, defaults to 1920px

        }).then((results) => {
            console.log(results)
        const output = results[0]
        const file = Compress.convertBase64ToFile(output.data, output.ext)
        console.log(file)
        preview.src = output.prefix + output.data
    })
    }, false)

</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script>
    function b64toBlob(b64Data, contentType, sliceSize) {
        contentType = contentType || '';
        sliceSize = sliceSize || 512;

        var byteCharacters = atob(b64Data);
        var byteArrays = [];

        for (var offset = 0; offset < byteCharacters.length; offset += sliceSize) {
            var slice = byteCharacters.slice(offset, offset + sliceSize);

            var byteNumbers = new Array(slice.length);
            for (var i = 0; i < slice.length; i++) {
                byteNumbers[i] = slice.charCodeAt(i);
            }

            var byteArray = new Uint8Array(byteNumbers);

            byteArrays.push(byteArray);
        }

        var blob = new Blob(byteArrays, {type: contentType});
        return blob;
    }

    $("#myAwesomeForm").submit(function(e){
        e.preventDefault();
        appendFileAndSubmit();
    });

    function appendFileAndSubmit(){

        // Get the form
        var form = document.getElementById("myAwesomeForm");

        var ImageURL = $('#preview').attr('src');
        // Split the base64 string in data and contentType
        var block = ImageURL.split(";");
        // Get the content type
        var contentType = block[0].split(":")[1];// In this case "image/gif"
        // get the real base64 content of the file
        var realData = block[1].split(",")[1];// In this case "iVBORw0KGg...."

        // Convert to blob
        var blob = b64toBlob(realData, contentType);

        // Create a FormData and append the file
        var fd = new FormData(form);
        fd.append("image", blob);

        // Submit Form and upload file
        $.ajax({
            url:"endpoint.php",
            data: fd,// the formData function is available in almost all new browsers.
            type:"POST",
            contentType:false,
            processData:false,
            cache:false,
            dataType:"json", // Change this according to your response from the server.

            success:function(data){
                //var m = (data);


                $(".siz_cls").empty().text(data.file_size);


                $("#download").attr("href", data.path);

                alert('Image compressed successfully');

                // alert('Image compressed successfully');
                console.log(data);
            },
            complete:function(){
                console.log("Request finished.");
            }
        });
    }
</script>
</body>
</html>